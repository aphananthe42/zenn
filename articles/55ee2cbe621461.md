---
title: "Firebaseã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®Analytics Dashboardã«ãƒ­ã‚°æƒ…å ±ãŒå…¨ãåæ˜ ã•ã‚Œãªã„å•é¡Œ"
emoji: "ğŸ“ˆ"
type: "tech"
topics: ["ios", "swift", "firebase"]
published: true
---

## æ¦‚è¦

iOSã‚¢ãƒ—ãƒªã§Firebase Analyticsã‚’å°å…¥ã—ãŸéš›ã€
Firebaseã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®Analytics Dashboardã«ãƒ­ã‚°æƒ…å ±ãŒå…¨ãåæ˜ ã•ã‚Œãªã„å•é¡Œã«ã‚ãŸã‚Šã¾ã—ãŸã€‚

å‰ææ¡ä»¶ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚
- Firebase SDKã¯SPMã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- Google-ServiceInfo.plistã¯å•é¡Œãªã—
- DebugViewã§ã¯ã‚¿ãƒƒãƒ—ã‚„ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒæ¤œçŸ¥ã§ãã¦ãŠã‚Šå•é¡Œãªã—
- ã‚¢ãƒ—ãƒªå†…ã§`Analytics.logEvent()`, `Analytics.setUserProperty()`ãªã©ã¯æœªä½¿ç”¨
  - Dashboardã‹ã‚‰è¦‹ã‚Œã‚‹æƒ…å ±ã®ã¿ã§ååˆ†ã ã£ãŸãŸã‚

## è§£æ±ºæ–¹æ³•

`FirebaseApp.configure()`ã®å¾Œã«
`Analytics.setAnalyticsCollectionEnabled(true)`ã‚’æ˜ç¤ºçš„ã«å‘¼ã¶ã“ã¨ã§è§£æ±ºã—ã¾ã—ãŸã€‚

ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆ
```
class AppDelegate: NSObject, UIApplicationDelegate {
    func application(
        _ application: UIApplication,
        didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey : Any]? = nil
    ) -> Bool {
        FirebaseApp.configure()
        Analytics.setAnalyticsCollectionEnabled(true) // ã“ã‚Œã‚’è¿½åŠ 
        return true
    }
}

@main
struct AIFrameApp: App {
    @UIApplicationDelegateAdaptor(AppDelegate.self) var delegate
    ...
}
```

ã‚¢ãƒ—ãƒªå†…ã§`Analytics.logEvent()`, `Analytics.setUserProperty()`ãªã©ã‚’ä½¿ç”¨ã—ã¦ã„ãªã„ã¨ã€
[firebase-ios-sdk/FirebaseCore/Sources/FIRApp.m](https://github.com/firebase/firebase-ios-sdk/blob/c105a0de10726acb4daf1ec6dc29a7fcd9aea4a6/FirebaseCore/Sources/FIRApp.m#L351)ã«ã‚ã‚‹
`configureCore`ãƒ¡ã‚½ãƒƒãƒ‰å†…ã§`FIRAnalytics`(Firebase Analyticsã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã‚·ãƒ³ã‚°ãƒ«ãƒˆãƒ³ã‚¯ãƒ©ã‚¹)ãŒåˆæœŸåŒ–ã•ã‚Œãšã€ãƒ‡ãƒ¼ã‚¿ãŒé€ä¿¡ã•ã‚Œãªããªã‚‹ã®ãŒåŸå› ã®ã‚ˆã†ã§ã—ãŸã€‚

## å‚è€ƒãƒªãƒ³ã‚¯

https://stackoverflow.com/questions/67702581/why-i-need-to-set-analytics-setanalyticscollectionenabledtrue-if-it-is-true-as
https://github.com/firebase/firebase-ios-sdk/blob/c105a0de10726acb4daf1ec6dc29a7fcd9aea4a6/FirebaseCore/Sources/FIRApp.m#L351
